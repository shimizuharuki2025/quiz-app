<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kâ€™sãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«</title>
    <link rel="stylesheet" href="style.css?v=1.3">
    <link rel="stylesheet" href="style-announcements.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="lawson_logo.png">
    <style>
        /* ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãƒãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .user-info-bar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            /* position: sticky; */
            /* top: 0; */
            z-index: 1000;
            width: 100%;
            flex-wrap: wrap;
            gap: 10px;
        }

        .user-info-bar .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 16px;
        }

        .user-info-bar .user-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .user-info-bar button {
            background: white;
            color: #667eea;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 14px;
            min-height: 44px;
            /* ã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„æœ€å°ã‚µã‚¤ã‚º */
            white-space: nowrap;
        }

        .user-info-bar button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .guest-info-bar {
            background: #ff9800;
            color: white;
            padding: 12px 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            /* position: sticky; */
            /* top: 0; */
            z-index: 1000;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .guest-info-bar span {
            font-size: 14px;
        }

        .guest-info-bar button {
            background: white;
            color: #ff9800;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            min-height: 44px;
            /* ã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„æœ€å°ã‚µã‚¤ã‚º */
        }

        /* ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
        @media (max-width: 768px) {
            .user-info-bar {
                flex-direction: column;
                align-items: flex-start;
                padding: 15px;
            }

            .user-info-bar .user-info {
                width: 100%;
                justify-content: center;
                font-size: 15px;
            }

            .user-info-bar .user-buttons {
                width: 100%;
                justify-content: center;
            }

            .user-info-bar button {
                flex: 1;
                min-width: 120px;
                padding: 12px 16px;
                font-size: 15px;
            }

            .guest-info-bar {
                padding: 15px;
            }

            .guest-info-bar span {
                font-size: 13px;
                text-align: center;
            }

            .guest-info-bar button {
                width: 100%;
                max-width: 300px;
                padding: 12px;
                font-size: 15px;
            }
        }
    </style>
</head>

<body>
    <!-- ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨æƒ…å ±ãƒãƒ¼ -->
    <div id="user-info-bar" class="user-info-bar" style="display: none;">
        <div class="user-info">
            <span>ğŸ‘¤ <strong id="user-name"></strong> ã•ã‚“</span>
        </div>
        <div class="user-buttons">
            <button id="view-history-btn" style="background: #2196f3;">ğŸ“Š å­¦ç¿’å±¥æ­´</button>
            <button id="open-user-password-modal-btn" style="background: #ff9800;">ğŸ”‘ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´</button>
            <button id="logout-btn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
        </div>
    </div>

    <!-- ã‚²ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰æƒ…å ±ãƒãƒ¼ -->
    <div id="guest-info-bar" class="guest-info-bar" style="display: none;">
        <span>âš ï¸ ã‚²ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã§åˆ©ç”¨ä¸­ï¼ˆå­¦ç¿’è¨˜éŒ²ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ï¼‰</span>
        <button id="login-redirect-btn">ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹</button>
    </div>

    <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è‡ªèº«ç”¨ï¼‰ -->
    <div id="user-password-change-modal" class="modal-background"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; justify-content: center; align-items: center;">
        <div class="modal-content"
            style="background: white; padding: 25px; border-radius: 12px; width: 90%; max-width: 400px; box-shadow: 0 10px 25px rgba(0,0,0,0.2);">
            <h2 style="margin-top: 0; color: #333; font-size: 20px;">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å¤‰æ›´</h2>
            <p style="font-size: 14px; color: #666; margin-bottom: 20px;">æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</p>
            <div class="form-group" style="margin-bottom: 15px;">
                <label for="new-player-password" style="display: block; margin-bottom: 5px; font-weight: bold;">æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
                    (4æ–‡å­—ä»¥ä¸Š):</label>
                <input type="password" id="new-player-password" placeholder="æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box;">
            </div>
            <div class="form-group" style="margin-bottom: 20px;">
                <label for="confirm-player-password"
                    style="display: block; margin-bottom: 5px; font-weight: bold;">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç¢ºèªï¼‰:</label>
                <input type="password" id="confirm-player-password" placeholder="ã‚‚ã†ä¸€åº¦å…¥åŠ›"
                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box;">
            </div>
            <div style="display: flex; gap: 10px;">
                <button id="save-player-password-btn"
                    style="flex: 1; background: #667eea; color: white; border: none; padding: 12px; border-radius: 6px; cursor: pointer; font-weight: bold;">å¤‰æ›´ã™ã‚‹</button>
                <button id="close-user-password-modal-btn"
                    style="flex: 1; background: #eee; color: #333; border: none; padding: 12px; border-radius: 6px; cursor: pointer; font-weight: bold;">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            </div>
        </div>
    </div>

    <!-- å…¨ä½“ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="app-password-modal" class="modal-background" style="display: none;">
        <div class="modal-content">
            <h2>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›</h2>
            <form id="app-password-form">
                <input type="password" id="app-password-input" required>
                <div class="modal-buttons">
                    <button type="submit">èªè¨¼</button>
                </div>
            </form>
        </div>
    </div>

    <div class="app-container">
        <!-- ãƒ›ãƒ¼ãƒ ç”»é¢ -->
        <div id="home-screen" class="screen" style="display: none;">
            <div class="home-header">
                <img src="lawson_logo.png" alt="LAWSON Logo" class="logo">
                <h1>ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒª</h1>
                <h2>æ¥­å‹™ãƒ»ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚¯ã‚¤ã‚º</h2>
                <h3>ã“ã®ã‚¢ãƒ—ãƒªã¯ã‚°ãƒ«ãƒ¼ãƒ—å¤–ç§˜ã§ã™ ã€‚</h3>
                <p>SNSç­‰ã¸ã®æŠ•ç¨¿ã¯ä¸€åˆ‡ç¦æ­¢ã§ã™ã€‚</p>
                <p>éƒ¨å¤–è€…ãƒ»é€€è·è€…ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚‚ç¦æ­¢ã§ã™ã€‚</p>
                <p>ï¼ˆã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã¯ç®¡ç†ã‚’ã—ã¦ã„ã¾ã™ã€‚ï¼‰</p>
                <p>å•é¡Œã¯ã€å•é¡Œåˆ¶ä½œæ™‚ã®ç¤¾å†…è¦å®šã‚„ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’å‚è€ƒã«ä½œæˆã—ã¦ã„ã¾ã™ã€‚</p>
            </div>

            <!-- ãŠçŸ¥ã‚‰ã›ãƒãƒŠãƒ¼ -->
            <div id="announcement-banner" class="announcement-banner" style="display: none;">
                <div class="announcement-content">
                    <span class="announcement-icon" id="announcement-icon">ğŸ“¢</span>
                    <span class="announcement-message" id="announcement-message"></span>
                </div>
            </div>

            <div id="accordion-container">
                <!-- ã“ã“ã«JavaScriptã§å¤§ã‚«ãƒ†ã‚´ãƒªã¨å°ã‚«ãƒ†ã‚´ãƒªãŒå‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
            </div>

            <!-- ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ãƒ¢ãƒ¼ãƒ€ãƒ« -->
            <div id="password-modal" class="modal-background" style="display: none;">
                <div class="modal-content">
                    <h2>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›</h2>
                    <p>ã‚¯ã‚¤ã‚ºã€Œ<strong id="password-category-name"></strong>ã€ã‚’å§‹ã‚ã‚‹ã«ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚</p>
                    <input type="password" id="password-input" placeholder="ã‚«ãƒ†ã‚´ãƒªã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
                    <div class="modal-buttons">
                        <button id="password-submit">æ±ºå®š</button>
                        <button id="password-cancel" class="btn-secondary">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ã‚¯ã‚¤ã‚ºç”»é¢ -->
        <div id="quiz-screen" class="screen" style="display: none;">
            <div id="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
            <div id="question-container">
                <div class="quiz-header">
                    <div id="question-number">ç¬¬1å•</div>
                    <div class="quiz-header-buttons">
                        <div class="font-size-controls">
                            <button id="font-size-down" class="btn-icon" title="æ–‡å­—ã‚’å°ã•ã">
                                <span class="button-text">å°</span>
                                <span class="button-icon">âˆ’</span>
                            </button>
                            <button id="font-size-up" class="btn-icon" title="æ–‡å­—ã‚’å¤§ãã">
                                <span class="button-text">å¤§</span>
                                <span class="button-icon">+</span>
                            </button>
                        </div>
                        <button id="mute-btn" class="btn-icon" title="éŸ³å£°ã®ã‚ªãƒ³/ã‚ªãƒ•">
                            <span class="button-text">éŸ³é‡</span>
                            <span class="button-icon">ğŸ”Š</span>
                        </button>
                        <button id="quit-quiz-btn" class="btn-icon btn-secondary" title="ä¸­æ–­ã—ã¦ãƒ›ãƒ¼ãƒ ã¸">
                            <span class="button-text">ä¸­æ–­</span>
                            <span class="button-icon">ğŸ </span>
                        </button>
                    </div>
                </div><img id="question-image" class="quiz-image" src="" alt="å•é¡Œç”»åƒ" style="display: none;">
                <h2 id="question-text"></h2>

                <!-- â–¼â–¼â–¼ ã“ã“ã‹ã‚‰UIè¦ç´ ã‚’æ•´ç†ãƒ»è¿½åŠ  â–¼â–¼â–¼ -->

                <!-- é¸æŠè‚¢å•é¡Œç”¨ã®ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
                <div id="answer-buttons" class="btn-grid"></div>

                <!-- ç©´åŸ‹ã‚å•é¡Œç”¨ã®å…¥åŠ›ã‚³ãƒ³ãƒ†ãƒŠ -->
                <div id="fill-in-the-blank-container" style="display: none;">
                    <input type="text" id="fill-in-the-blank-input" placeholder="ç­”ãˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
                </div>

                <!-- å›ç­”ç¢ºå®šãƒœã‚¿ãƒ³ï¼ˆè¤‡æ•°é¸æŠãƒ»ç©´åŸ‹ã‚å•é¡Œã§ä½¿ç”¨ï¼‰ -->
                <button id="confirm-answer-btn" style="display: none; margin-top: 20px; width: 100%;">å›ç­”ã‚’ç¢ºå®šã™ã‚‹</button>

                <!-- â–²â–²â–² ã“ã“ã¾ã§UIè¦ç´ ã‚’æ•´ç†ãƒ»è¿½åŠ  â–²â–²â–² -->

            </div>
            <div id="explanation-container" style="display: none;">
                <h3 id="feedback-title"></h3>
                <img id="explanation-image" class="quiz-image" src="" alt="è§£èª¬ç”»åƒ" style="display: none;">
                <p id="explanation-text"></p>
                <button id="next-question-btn">æ¬¡ã®å•é¡Œã¸</button>
            </div>
        </div>

        <!-- çµæœç”»é¢ -->
        <div id="result-screen" class="screen" style="display: none;">
            <h2>ã‚¯ã‚¤ã‚ºçµæœ</h2>
            <p id="score-text"></p>
            <p id="evaluation-text"></p>
            <p id="high-score-text"></p>
            <div id="incorrect-list-container" style="display: none;">
                <hr>
                <h3>å¾©ç¿’ã—ã¾ã—ã‚‡ã†</h3>
                <div id="incorrect-list"></div>
            </div>
            <div class="result-buttons">
                <button id="restart-btn">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã™ã‚‹</button>
                <button id="review-incorrect-btn" class="btn-secondary" style="display: none;">é–“é•ãˆãŸå•é¡Œã‚’å¾©ç¿’</button>
                <button id="back-to-home-btn">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ -->
    <script src="script-auth.js?v=1.2"></script>
    <script src="script.js?v=1.3"></script>
    <script src="script-announcements.js?v=20260117-002"></script>
</body>

</html>